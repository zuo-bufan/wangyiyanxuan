(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b233496"],{"0cb2":function(t,e,r){var n=r("7b0b"),i=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,s,l,u){var d=r+t.length,p=s.length,f=c;return void 0!==l&&(l=n(l),f=a),o.call(u,f,(function(n,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(d);case"<":a=l[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>p){var u=i(c/10);return 0===u?n:u<=p?void 0===s[u-1]?o.charAt(1):s[u-1]+o.charAt(1):n}a=s[c-1]}return void 0===a?"":a}))}},"14c3":function(t,e,r){var n=r("c6b6"),i=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var o=r.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"2cde":function(t,e,r){},5319:function(t,e,r){"use strict";var n=r("d784"),i=r("825a"),o=r("50c4"),a=r("a691"),c=r("1d80"),s=r("8aa5"),l=r("0cb2"),u=r("14c3"),d=Math.max,p=Math.min,f=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,r,n){var h=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=n.REPLACE_KEEPS_$0,g=h?"$":"$0";return[function(r,n){var i=c(this),o=void 0==r?void 0:r[t];return void 0!==o?o.call(r,i,n):e.call(String(i),r,n)},function(t,n){if(!h&&v||"string"===typeof n&&-1===n.indexOf(g)){var c=r(e,t,this,n);if(c.done)return c.value}var y=i(t),x=String(this),m="function"===typeof n;m||(n=String(n));var b=y.global;if(b){var w=y.unicode;y.lastIndex=0}var k=[];while(1){var E=u(y,x);if(null===E)break;if(k.push(E),!b)break;var _=String(E[0]);""===_&&(y.lastIndex=s(x,o(y.lastIndex),w))}for(var C="",L=0,I=0;I<k.length;I++){E=k[I];for(var S=String(E[0]),P=d(p(a(E.index),x.length),0),R=[],$=1;$<E.length;$++)R.push(f(E[$]));var K=E.groups;if(m){var A=[S].concat(R,P,x);void 0!==K&&A.push(K);var O=String(n.apply(void 0,A))}else O=l(S,x,P,R,K,n);P>=L&&(C+=x.slice(L,P)+O,L=P+S.length)}return C+x.slice(L)}]}))},7891:function(t,e,r){"use strict";r("2cde")},"79b9":function(t,e,r){"use strict";r("ee0b")},"8aa5":function(t,e,r){"use strict";var n=r("6547").charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},9263:function(t,e,r){"use strict";var n=r("ad6d"),i=r("9f7f"),o=r("5692"),a=RegExp.prototype.exec,c=o("native-string-replace",String.prototype.replace),s=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=i.UNSUPPORTED_Y||i.BROKEN_CARET,d=void 0!==/()??/.exec("")[1],p=l||d||u;p&&(s=function(t){var e,r,i,o,s=this,p=u&&s.sticky,f=n.call(s),h=s.source,v=0,g=t;return p&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(h="(?: "+h+")",g=" "+g,v++),r=new RegExp("^(?:"+h+")",f)),d&&(r=new RegExp("^"+h+"$(?!\\s)",f)),l&&(e=s.lastIndex),i=a.call(p?r:s,g),p?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:l&&i&&(s.lastIndex=s.global?i.index+i[0].length:e),d&&i&&i.length>1&&c.call(i[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),t.exports=s},"9f7f":function(t,e,r){"use strict";var n=r("d039");function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,r){"use strict";var n=r("23e7"),i=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(t,e,r){"use strict";var n=r("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b6cb:function(t,e,r){},baa3:function(t,e,r){"use strict";r("b6cb")},d784:function(t,e,r){"use strict";r("ac1f");var n=r("6eeb"),i=r("d039"),o=r("b622"),a=r("9112"),c=o("species"),s=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),p=!i((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,u){var f=o(t),h=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),v=h&&!i((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return e=!0,null},r[f](""),!e}));if(!h||!v||"replace"===t&&(!s||!l||d)||"split"===t&&!p){var g=/./[f],y=r(f,""[t],(function(t,e,r,n,i){return e.exec===RegExp.prototype.exec?h&&!i?{done:!0,value:g.call(e,r,n)}:{done:!0,value:t.call(r,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),x=y[0],m=y[1];n(String.prototype,t,x),n(RegExp.prototype,f,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}u&&a(RegExp.prototype[f],"sham",!0)}},d81d:function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").map,o=r("1dde"),a=o("map");n({target:"Array",proto:!0,forced:!a},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},deb6:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"popup"},[r("van-search",{attrs:{"show-action":"",placeholder:t.defaultKeyword.keyword},on:{search:t.onSearch,input:t.onInput},scopedSlots:t._u([{key:"action",fn:function(){return[r("div",{on:{click:t.onCancel}},[t._v("取消")])]},proxy:!0}]),model:{value:t.inputValue,callback:function(e){t.inputValue=e},expression:"inputValue"}}),1==t.searchNum?r("HistoryHot",{attrs:{hotKeywordList:t.hotKeywordList,historyKeywordList:t.historyKeywordList},on:{ListClick:t.ListClick,getPopupData:t.getPopupData}}):2==t.searchNum?r("Products",{attrs:{keyword:t.keyword}}):r("List",{attrs:{listArr:t.listArr},on:{ListClick:t.ListClick}})],1)},i=[],o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"history popup_top"},[r("div",{staticClass:"history_top"},[r("h2",[t._v("历史记录")]),r("van-icon",{attrs:{name:"delete-o"},on:{click:t.OnClickDel}})],1),r("div",{staticClass:"history_down"},t._l(t.historyKeywordList,(function(e,n){return r("van-tag",{key:n,attrs:{plain:"",type:"default"},on:{click:function(r){return t.ListClick(e)}}},[t._v(t._s(e))])})),1)]),r("div",{staticClass:"history"},[t._m(0),r("div",{staticClass:"history_down"},t._l(t.hotKeywordList,(function(e,n){return r("van-tag",{key:n,attrs:{plain:"",type:1==e.is_hot?"danger":"default"},on:{click:function(r){return t.ListClick(e.keyword)}}},[t._v(t._s(e.keyword))])})),1)])])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"history_top"},[r("h2",[t._v("热门搜索")])])}],c=r("fd03"),s={data:function(){return{}},props:["historyKeywordList","hotKeywordList"],methods:{ListClick:function(t){this.$emit("ListClick",2,t)},OnClickDel:function(){var t=this;Object(c["o"])().then((function(e){0===e.errno&&(console.log("成功了"),t.$emit("getPopupData"))}))}}},l=s,u=(r("79b9"),r("2877")),d=Object(u["a"])(l,o,a,!1,null,"90027d62",null),p=d.exports,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"products"},[r("van-dropdown-menu",[r("van-dropdown-item",{attrs:{disabled:"",title:"综合"}}),r("van-dropdown-item",{attrs:{options:t.option2,title:"价格"},on:{change:t.priceChange},model:{value:t.order,callback:function(e){t.order=e},expression:"order"}}),r("van-dropdown-item",{attrs:{options:t.filterCategory,title:"分类"},on:{change:t.categoryChange},model:{value:t.categoryId,callback:function(e){t.categoryId=e},expression:"categoryId"}})],1),t.productlist.length>0?r("ProductList",{attrs:{productlist:t.productlist}}):r("van-empty",{attrs:{image:"search",description:"描述文字"}})],1)},h=[],v=(r("ac1f"),r("5319"),r("d81d"),r("1c14")),g={components:{ProductList:v["a"]},data:function(){return{price:"",option2:[{text:"价格由高到低",value:"desc"},{text:"价格由低到高",value:"asc"}],filterCategory:[],categoryPopup:"0",productlist:[],page:1,size:20,order:"desc",sort:"id",categoryId:0}},created:function(){this.SearchGoodsList()},props:["keyword"],methods:{SearchGoodsList:function(){var t=this;Object(c["p"])({keyword:this.keyword,page:this.page,size:this.size,order:this.order,categoryId:this.categoryId,sort:this.sort}).then((function(e){if(console.log(e.data),0===e.errno){t.productlist=e.data.goodsList;var r=e.data.filterCategory,n=JSON.parse(JSON.stringify(r).replace(/name/g,"text").replace(/id/g,"value"));t.filterCategory=n,t.filterCategory.map((function(e){e.checked&&(t.categoryId=e.value)}))}}))},categoryChange:function(t){this.categoryId=t,this.SearchGoodsList()},priceChange:function(t){this.order=t,this.sort="price",this.SearchGoodsList()}}},y=g,x=(r("baa3"),Object(u["a"])(y,f,h,!1,null,"270dea98",null)),m=x.exports,b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.listArr,(function(e){return r("van-cell",{key:e,attrs:{title:e},on:{click:function(r){return t.ListClick(e)}}})})),1)},w=[],k={props:["listArr"],data:function(){return{loading:!1,finished:!0}},methods:{ListClick:function(t){this.$emit("ListClick",2,t)}}},E=k,_=Object(u["a"])(E,b,w,!1,null,"49b855d6",null),C=_.exports,L=null,I={components:{HistoryHot:p,Products:m,List:C},data:function(){return{listArr:[],inputValue:"",searchNum:1,defaultKeyword:{},historyKeywordList:[],hotKeywordList:[],productlist:{},keyword:"",filterCategory:[],categoryPopup:0}},methods:{ListClick:function(t,e){this.searchNum=t,this.keyword=e},onSearch:function(t){this.searchNum=2,this.keyword=t},onCancel:function(){this.$router.go(-1)},onInput:function(){var t=this,e=!0;this.searchNum=3,L&&clearTimeout(L),e&&(e=!1,L=setTimeout((function(){Object(c["q"])({keyword:t.inputValue}).then((function(r){0===r.errno&&(t.listArr=r.data),e=!0,clearTimeout(L)}))}),200))},getPopupData:function(){var t=this;Object(c["n"])().then((function(e){if(0===e.errno){var r=e.data,n=r.defaultKeyword,i=r.historyKeywordList,o=r.hotKeywordList;t.defaultKeyword=n,t.historyKeywordList=i,t.hotKeywordList=o,console.log(e.data)}}))}},created:function(){var t=this;setTimeout((function(){t.getPopupData()}),500)}},S=I,P=(r("7891"),Object(u["a"])(S,n,i,!1,null,"fe09c726",null));e["default"]=P.exports},ee0b:function(t,e,r){}}]);
//# sourceMappingURL=chunk-1b233496.21cf4b14.js.map